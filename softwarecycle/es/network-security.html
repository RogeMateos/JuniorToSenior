<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fundamentos de Seguridad de Red en AWS | Ciclo de Software</title>
    <link rel="stylesheet" href="../../assets/css/styles.css">
</head>
<body>
    <div class="container">
        <main class="main-content">
            <section id="section-network-security">
                <h1>‚å®Ô∏è‚òÅÔ∏è 1.7 Fundamentos de Seguridad de Red en AWS</h1>
                <p><strong>C√≥mo pensar la seguridad en la nube (como un senior)</strong></p>

                <h2>1Ô∏è‚É£ El problema real que estamos resolviendo</h2>

                <p>Cuando pasas de desarrollar c√≥digo a desplegar en cloud, ocurre algo importante:</p>

                <p><strong>Ahora eres responsable de que nadie acceda a cosas que no deber√≠a.</strong></p>

                <p><strong>En local todo funciona porque:</strong></p>

                <ul>
                    <li>Todo est√° en localhost</li>
                    <li>No hay red p√∫blica</li>
                    <li>No hay atacantes</li>
                </ul>

                <p><strong>En producci√≥n:</strong></p>

                <ul>
                    <li>Hay internet</li>
                    <li>Hay bots escaneando puertos</li>
                    <li>Hay intentos de fuerza bruta</li>
                    <li>Hay riesgo de fuga de datos</li>
                </ul>

                <p>Por eso existe la VPC y los mecanismos de red.</p>

                <h2>2Ô∏è‚É£ Mental Model: VPC = Tu mini data center virtual</h2>

                <p>Cuando creas una cuenta AWS, obtienes una VPC (Virtual Private Cloud).</p>

                <p>Piensa en ella como:</p>

                <pre><code>Internet
   ‚Üì
[ Internet Gateway ]
   ‚Üì
[ VPC - tu red privada ]
    ‚îú‚îÄ‚îÄ Subnet A
    ‚îú‚îÄ‚îÄ Subnet B
    ‚îî‚îÄ‚îÄ Subnet C</code></pre>

                <p>Dentro de tu VPC:</p>

                <ul>
                    <li>Tienes IPs privadas</li>
                    <li>Puedes crear servidores</li>
                    <li>Puedes crear bases de datos</li>
                    <li>Puedes segmentar redes</li>
                </ul>

                <p>Es tu red aislada dentro de AWS.</p>

                <h2>3Ô∏è‚É£ Regiones y Availability Zones</h2>

                <p>Una regi√≥n (ej: Frankfurt) tiene varias Availability Zones.</p>

                <p>Cada AZ es b√°sicamente un centro de datos diferente.</p>

                <p><strong>¬øPor qu√© importa esto?</strong></p>

                <p>Porque:</p>

                <ul>
                    <li>Puedes distribuir recursos</li>
                    <li>Puedes tolerar fallos</li>
                    <li>Es base para alta disponibilidad</li>
                </ul>

                <p>Pero en este m√≥dulo nos enfocamos en seguridad de red.</p>

                <h2>4Ô∏è‚É£ Subnets: Segmentando tu red</h2>

                <p>Dentro de la VPC creas subnets.</p>

                <p>No existen "subnets p√∫blicas" como bot√≥n m√°gico.</p>

                <p>Una subnet es "p√∫blica" cuando:</p>

                <ul>
                    <li>Tiene una route table con:
                        <ul>
                            <li>0.0.0.0/0 ‚Üí Internet Gateway</li>
                        </ul>
                    </li>
                </ul>

                <p>Es "privada" cuando:</p>

                <ul>
                    <li>No tiene ruta directa al Internet Gateway</li>
                </ul>

                <h2>5Ô∏è‚É£ ¬øQu√© hace que algo sea realmente p√∫blico?</h2>

                <p>Muchos juniors creen:</p>

                <p>"Est√° en AWS, entonces ya es p√∫blico"</p>

                <p>No.</p>

                <p>Para que un recurso sea accesible desde internet necesita:</p>

                <ul>
                    <li>Ruta al Internet Gateway</li>
                    <li>IP p√∫blica</li>
                    <li>Security Group que permita inbound</li>
                    <li>Servicio escuchando en ese puerto</li>
                </ul>

                <p>Si uno de esos falla ‚Üí no es accesible.</p>

                <p>Esto es important√≠simo para debugging.</p>

                <h2>6Ô∏è‚É£ Security Groups = Firewall por recurso</h2>

                <p>Este es el concepto m√°s importante.</p>

                <p>Un Security Group (SG) es:</p>

                <p><strong>Un firewall virtual que envuelve un recurso.</strong></p>

                <p>Ejemplo visual:</p>

                <pre><code>[ Internet ]
     ‚Üì
[ Security Group ]
     ‚Üì
[ EC2 Instance ]</code></pre>

                <p>Si no pasas el SG ‚Üí no llegas al servidor.</p>

                <h3>üîπ Inbound vs Outbound</h3>

                <p><strong>Inbound</strong> = lo que puede entrar<br>
                <strong>Outbound</strong> = lo que puede salir</p>

                <p>Ejemplo t√≠pico backend:</p>

                <p><strong>Inbound:</strong></p>

                <ul>
                    <li>443 desde Load Balancer</li>
                    <li>22 solo desde tu IP (si usas SSH)</li>
                </ul>

                <p><strong>Outbound:</strong></p>

                <ul>
                    <li>5432 hacia base de datos</li>
                    <li>443 hacia internet (npm install, APIs externas)</li>
                </ul>

                <h2>7Ô∏è‚É£ Security Groups son STATEFUL</h2>

                <p>Esto es clave y mucha gente lo ignora.</p>

                <p>Si permites inbound:</p>

                <p><strong>La respuesta de vuelta est√° autom√°ticamente permitida.</strong></p>

                <p>No necesitas abrir el puerto de retorno.</p>

                <h2>8Ô∏è‚É£ NACL vs Security Group (diferencia importante)</h2>

                <table class="cheat-sheet-table">
                    <tr>
                        <th>Caracter√≠stica</th>
                        <th>Security Group</th>
                        <th>NACL</th>
                    </tr>
                    <tr>
                        <td>Nivel</td>
                        <td>Por recurso</td>
                        <td>Por subnet</td>
                    </tr>
                    <tr>
                        <td>Estado</td>
                        <td>Stateful</td>
                        <td>Stateless</td>
                    </tr>
                    <tr>
                        <td>Uso com√∫n</td>
                        <td>La mayor√≠a de proyectos</td>
                        <td>Control a nivel red</td>
                    </tr>
                </table>

                <p>En la mayor√≠a de proyectos:</p>

                <p>‚Üí Usar√°s Security Groups.</p>

                <h2>9Ô∏è‚É£ Principio m√°s importante: Least Privilege</h2>

                <p>Nunca abras m√°s de lo necesario.</p>

                <p><strong>Ejemplo incorrecto (muy com√∫n en juniors):</strong></p>

                <pre><code>Port 5432
Source: 0.0.0.0/0</code></pre>

                <p>Eso deja tu base de datos abierta a internet.</p>

                <p><strong>Correcto:</strong></p>

                <pre><code>Port 5432
Source: Backend-SG</code></pre>

                <p>Eso significa:</p>

                <p>Solo servidores que tengan ese SG pueden conectarse.</p>

                <p>Esto se llama Security Group referencing.</p>

                <p><strong>Es seguridad profesional real.</strong></p>

                <h2>üîü Arquitectura segura recomendada</h2>

                <p>Patr√≥n est√°ndar profesional:</p>

                <pre><code>Internet
   ‚Üì
API Gateway / Load Balancer (p√∫blico)
   ‚Üì
Backend (private subnet)
   ‚Üì
Database (private subnet)</code></pre>

                <p><strong>Reglas:</strong></p>

                <ul>
                    <li>Solo el API es p√∫blico</li>
                    <li>Backend no tiene IP p√∫blica</li>
                    <li>Database jam√°s es p√∫blica</li>
                </ul>

                <h2>1Ô∏è‚É£1Ô∏è‚É£ ¬øC√≥mo sale el backend a internet si es privado?</h2>

                <p>Aqu√≠ entra:</p>

                <p><strong>NAT Gateway</strong></p>

                <p>El backend en private subnet:</p>

                <ul>
                    <li>No puede recibir tr√°fico desde internet</li>
                    <li>Pero puede salir a internet a trav√©s de NAT</li>
                </ul>

                <p><strong>¬øPor qu√© importa?</strong></p>

                <p>Porque:</p>

                <ul>
                    <li>Necesitas npm install</li>
                    <li>Necesitas llamar APIs externas</li>
                    <li>Necesitas descargar actualizaciones</li>
                </ul>

                <p>Pero no quieres que nadie desde fuera inicie conexi√≥n hacia ti.</p>

                <h2>1Ô∏è‚É£2Ô∏è‚É£ Ejemplo real: Backend + RDS</h2>

                <p><strong>Database Security Group</strong></p>

                <p>Inbound:</p>

                <pre><code>Port 5432
Source: Backend-SG</code></pre>

                <p>Outbound:</p>

                <p>m√≠nimo necesario</p>

                <p><strong>Backend Security Group</strong></p>

                <p>Inbound:</p>

                <pre><code>443 desde Load Balancer</code></pre>

                <p>Outbound:</p>

                <pre><code>5432 hacia DB-SG
443 hacia internet (v√≠a NAT)</code></pre>

                <p><strong>Resultado:</strong></p>

                <ul>
                    <li>DB nunca accesible desde internet</li>
                    <li>Backend tampoco</li>
                    <li>Solo el entry point es p√∫blico</li>
                </ul>

                <p>Esto es arquitectura limpia.</p>

                <h2>1Ô∏è‚É£3Ô∏è‚É£ C√≥mo debuggear un timeout</h2>

                <p>Esto te salva horas.</p>

                <p>Si no puedes conectar a la DB:</p>

                <p>Primero preg√∫ntate:</p>

                <ul>
                    <li>¬øEs error de password?
                        <ul>
                            <li>‚Üí Llegaste a la DB</li>
                        </ul>
                    </li>
                    <li>¬øEs timeout?
                        <ul>
                            <li>‚Üí No est√°s pasando el firewall</li>
                        </ul>
                    </li>
                </ul>

                <p><strong>Checklist:</strong></p>

                <ul>
                    <li>¬øDB SG permite 5432 desde backend SG?</li>
                    <li>¬øBackend realmente usa ese SG?</li>
                    <li>¬øEst√°n en la misma VPC?</li>
                    <li>¬øHay route correcta?</li>
                    <li>¬øDB es privada (correcto)?</li>
                    <li>¬øIntentas acceder desde fuera?</li>
                </ul>

                <p><strong>Regla pr√°ctica:</strong></p>

                <p><strong>Timeout = Networking</strong><br>
                <strong>Auth error = Credenciales</strong></p>

                <h2>1Ô∏è‚É£4Ô∏è‚É£ Seguridad de salida (egress)</h2>

                <p>Muchos dejan:</p>

                <pre><code>Outbound: All traffic 0.0.0.0/0</code></pre>

                <p>En entornos financieros esto no es aceptable.</p>

                <p>Se restringe a:</p>

                <ul>
                    <li>Solo 443</li>
                    <li>Solo destinos espec√≠ficos</li>
                    <li>O se fuerza salida v√≠a proxy</li>
                </ul>

                <p>Porque tambi√©n puedes tener:</p>

                <p>‚Üí exfiltraci√≥n de datos</p>

                <p>Seguridad no es solo inbound.</p>

                <h2>1Ô∏è‚É£5Ô∏è‚É£ Checklist de Producci√≥n</h2>

                <p>Antes de ir a producci√≥n revisa:</p>

                <p><strong>‚ùå No hagas:</strong></p>

                <ul>
                    <li>Dejar ninguna base de datos p√∫blica</li>
                    <li>Usar 0.0.0.0/0 en DB</li>
                    <li>Dejar SSH abierto al mundo</li>
                </ul>

                <p><strong>‚úÖ S√≠ haz:</strong></p>

                <ul>
                    <li>Backend en private subnet</li>
                    <li>NAT configurado si necesita internet</li>
                    <li>SG referencing entre servicios</li>
                    <li>Solo entry points p√∫blicos</li>
                    <li>HTTPS obligatorio</li>
                    <li>Rate limiting en APIs</li>
                </ul>

                <h2>1Ô∏è‚É£6Ô∏è‚É£ Lo que realmente debes recordar (regla 80/20)</h2>

                <p>Si solo recuerdas esto, ya est√°s por delante del 80%:</p>

                <ul>
                    <li>VPC es tu red aislada</li>
                    <li>Subnets segmentan red</li>
                    <li>Security Groups son firewalls por recurso</li>
                    <li>Solo lo necesario es p√∫blico</li>
                    <li>Bases de datos nunca p√∫blicas</li>
                    <li>Timeout casi siempre es Security Group</li>
                </ul>

                <h2>üéØ Mentalidad Senior</h2>

                <p>Un senior no piensa:</p>

                <p>"¬øC√≥mo hago que funcione?"</p>

                <p>Un senior piensa:</p>

                <p>"¬øC√≥mo hago que funcione sin exponer nada innecesariamente?"</p>

                <p><strong>La seguridad no es un a√±adido.</strong><br>
                <strong>Es arquitectura.</strong></p>

                <h2>üìö Recursos</h2>

                <ul>
                    <li><a href="https://chatgpt.com/g/g-p-69925f6597e88191b8bcb93447c5bb78-dragos/c/69985c33-1ca0-8394-aa41-9fb69a2b8daa" target="_blank">Fundamentos de Seguridad de Red en AWS - Dragos</a></li>
                </ul>

                <div class="navigation-buttons">
                    <button class="btn btn-secondary" onclick="window.location.href='../index.html'">‚Üê Volver Atr√°s</button>
                    <button class="btn btn-primary" onclick="window.location.href='../../index.html'">Volver al Inicio ‚Üí</button>
                </div>
            </section>
        </main>
    </div>

    <script src="../../assets/js/app.js"></script>
</body>
</html>
