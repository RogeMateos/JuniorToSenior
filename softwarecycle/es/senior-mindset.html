<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mentalidad Senior | FullStack</title>
    <link rel="stylesheet" href="../../assets/css/styles.css">
</head>
<body>
    <div class="container">
        <main class="main-content">
            <section id="section-software-cycle">
                <h1>üöÄ 6.0 Mentalidad DevOps: De Developer a Operador de Producci√≥n</h1>
                <p><strong>"You build it, you run it." ‚Äî Filosof√≠a de Amazon</strong></p>

                <h2>0Ô∏è‚É£ El Cambio: De Developer a Senior</h2>

                <p>Antes:</p>
                <pre><code>Plan ‚Üí Code ‚Üí Test ‚Üí Push</code></pre>

                <p>Ahora:</p>
                <pre><code>Plan ‚Üí Code ‚Üí Build ‚Üí Test ‚Üí Release ‚Üí Deploy ‚Üí Operate ‚Üí Monitor ‚Üí Learn ‚Üí Repeat</code></pre>

                <p>Un developer senior piensa en todo el ciclo de vida.</p>

                <p><strong>Preguntas clave que todo senior se hace:</strong></p>

                <ul>
                    <li>¬øC√≥mo se desplegar√° esto?</li>
                    <li>¬øC√≥mo se ejecuta en producci√≥n?</li>
                    <li>¬øC√≥mo s√© si falla?</li>
                    <li>¬øC√≥mo vuelvo atr√°s?</li>
                    <li>¬øC√≥mo libero nuevas versiones de forma segura?</li>
                </ul>

                <h2>1Ô∏è‚É£ El Ciclo Completo de Vida del Software</h2>

                <h3>üîµ Fase 1: Plan & Dise√±o</h3>

                <p>Requisitos, arquitectura, estimaci√≥n de recursos.</p>

                <h3>üîµ Fase 2: Desarrollar</h3>

                <p>Escribir c√≥digo siguiendo la arquitectura acordada.</p>

                <h3>üîµ Fase 3: Build</h3>

                <p>Compilar, empaquetar, crear artefactos reproducibles.</p>

                <h3>üîµ Fase 4: Test</h3>

                <p>Unit tests, integration tests, validaci√≥n automatizada.</p>

                <h3>üîµ Fase 5: Release</h3>

                <p>Bump de versi√≥n, changelog, artefactos listos.</p>

                <h3>üîµ Fase 6: Deploy</h3>

                <p>Mover a producci√≥n de forma segura con rollback.</p>

                <h3>üîµ Fase 7: Operar</h3>

                <p>Mantener sistemas funcionando, gestionar incidentes.</p>

                <h3>üîµ Fase 8: Monitorear</h3>

                <p>Observar m√©tricas, logs, salud del sistema.</p>

                <h3>üîµ Fase 9: Aprender y Mejorar</h3>

                <p>Post-mortems, an√°lisis de m√©tricas, iterar.</p>

                <h2>2Ô∏è‚É£ CI/CD: La F√°brica de Tu Producto</h2>

                <h3>La F√°brica Es El Producto</h3>

                <p>Como dijo Elon Musk: "La f√°brica es el producto."</p>

                <p>En software, la f√°brica es tu pipeline de CI/CD.</p>

                <p><strong>Pipeline malo:</strong></p>

                <ul>
                    <li>Lento</li>
                    <li>Manual</li>
                    <li>No confiable</li>
                    <li>Dif√≠cil de hacer rollback</li>
                </ul>

                <p><strong>Resultado:</strong> Producto lento, fr√°gil, dif√≠cil de mejorar.</p>

                <p><strong>Pipeline bueno:</strong></p>

                <ul>
                    <li>Automatizado</li>
                    <li>R√°pido</li>
                    <li>Reproducible</li>
                    <li>Rollback f√°cil</li>
                </ul>

                <p><strong>Resultado:</strong> El producto mejora autom√°ticamente.</p>

                <h3>CI ‚Äî Continuous Integration</h3>

                <p>Cada cambio que haces:</p>

                <ol>
                    <li>Se testea autom√°ticamente</li>
                    <li>Se construye autom√°ticamente</li>
                    <li>Se valida autom√°ticamente</li>
                </ol>

                <p><strong>Objetivo:</strong> Detectar errores temprano.</p>

                <h3>CD ‚Äî Continuous Delivery / Deployment</h3>

                <p>Despu√©s de que CI pase:</p>

                <ol>
                    <li>Se deploya autom√°ticamente a staging, O</li>
                    <li>Listo para deployar a producci√≥n con un clic</li>
                </ol>

                <p><strong>Objetivo:</strong> Entregar valor continuamente.</p>

                <h2>3Ô∏è‚É£ Paso 1: Build Reproducible</h2>

                <p><strong>Principio fundamental:</strong> Si no puedes construirlo desde cero, no puedes desplegarlo.</p>

                <p><strong>Checklist:</strong></p>

                <ul>
                    <li>‚úÖ Usa <code>npm ci</code> en lugar de <code>npm install</code></li>
                    <li>‚úÖ Fija todas las versiones de dependencias</li>
                    <li>‚úÖ Sin dependencias locales ocultas</li>
                    <li>‚úÖ Build genera artefactos claros (dist/, imagen Docker, etc.)</li>
                    <li>‚úÖ El mismo build funciona en local, CI y producci√≥n</li>
                </ul>

                <p><strong>Regla senior:</strong></p>

                <p>Si no funciona igual en otra m√°quina, no est√° listo.</p>

                <h2>4Ô∏è‚É£ Paso 2: Separar Configuraci√≥n del C√≥digo</h2>

                <p><strong>Nunca hardcodees:</strong></p>

                <ul>
                    <li>URLs</li>
                    <li>Secretos</li>
                    <li>Passwords</li>
                    <li>API keys</li>
                </ul>

                <p><strong>Usa variables de entorno:</strong></p>

                <pre><code>API_URL=https://api.example.com
DATABASE_URL=postgresql://user:pass@host/db
JWT_SECRET=tu-clave-secreta-aqui
LOG_LEVEL=info</code></pre>

                <p><strong>Cada entorno tiene valores distintos:</strong></p>

                <ul>
                    <li>local</li>
                    <li>staging</li>
                    <li>production</li>
                </ul>

                <p>Esto sigue el principio de <strong>12-Factor App</strong>.</p>

                <h2>5Ô∏è‚É£ Paso 3: Containerizaci√≥n (Docker)</h2>

                <h3>¬øPor Qu√© Docker?</h3>

                <p>Porque:</p>

                <ul>
                    <li>Garantiza mismo entorno en local, CI y producci√≥n</li>
                    <li>Elimina "en mi m√°quina funciona"</li>
                    <li>Convierte tu app en una unidad portable</li>
                    <li>Hace el deployment determin√≠stico</li>
                </ul>

                <h3>Dockerfile B√°sico</h3>

                <pre><code>FROM node:18-alpine

WORKDIR /app

COPY package*.json ./
RUN npm ci

COPY . .

RUN npm run build

EXPOSE 3000

CMD ["npm", "start"]</code></pre>

                <p><strong>Principios clave:</strong></p>

                <ul>
                    <li>Comienza con versi√≥n espec√≠fica de imagen base (no `latest`)</li>
                    <li>Usa <code>npm ci</code> no <code>npm install</code></li>
                    <li>Ejecuta build dentro del container</li>
                    <li>El tama√±o del container importa (usa Alpine Linux)</li>
                </ul>

                <h2>6Ô∏è‚É£ Paso 4: Pipeline de CI B√°sico</h2>

                <p><strong>Pipeline de CI m√≠nimo profesional:</strong></p>

                <pre><code>Pull Request ‚Üí
  Lint (Calidad de C√≥digo) ‚Üí
  Unit Tests ‚Üí
  Build Docker Image ‚Üí
  Integration Tests ‚Üí
  Create Artifact ‚Üí
  Store Artifact</code></pre>

                <h3>Ejemplo GitHub Actions</h3>

                <pre><code>name: CI

on:
  pull_request:
    branches: [ main ]

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v3

      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '18'
          cache: 'npm'

      - name: Install dependencies
        run: npm ci

      - name: Lint
        run: npm run lint

      - name: Run tests
        run: npm test

      - name: Build
        run: npm run build

      - name: Build Docker image
        run: docker build -t myapp:${{ github.sha }} .</code></pre>

                <h3>Mejores Pr√°cticas</h3>

                <ul>
                    <li>‚úÖ Fallar si tests fallan</li>
                    <li>‚úÖ No permitir merge si CI falla</li>
                    <li>‚úÖ Cachear dependencias</li>
                    <li>‚úÖ Ejecutar en paralelo cuando sea posible</li>
                    <li>‚úÖ Mantener tiempo total bajo 10 minutos</li>
                </ul>

                <h2>7Ô∏è‚É£ Paso 5: CD ‚Äî Deploy Autom√°tico</h2>

                <h3>Estrategia Simple Profesional</h3>

                <pre><code>Merge a main ‚Üí Deploy a staging autom√°tico
Tag versi√≥n ‚Üí Deploy a producci√≥n con validaci√≥n</code></pre>

                <p><strong>Regla cr√≠tica:</strong></p>

                <p><strong>No reconstruyas para producci√≥n.</strong></p>

                <p>Promociona el mismo artefacto testeado.</p>

                <h3>Ejemplo Flujo de Deployment</h3>

                <pre><code>main branch merged
‚Üì
Run full test suite
‚Üì
Build & push Docker image
‚Üì
Deploy to staging
‚Üì
Run smoke tests on staging
‚Üì
Wait for approval OR auto-promote
‚Üì
Deploy same image to production</code></pre>

                <h2>8Ô∏è‚É£ Paso 6: Observabilidad (Logs, M√©tricas, Alertas)</h2>

                <p><strong>Aqu√≠ es donde muchos developers fallan.</strong></p>

                <p>En producci√≥n, no debuggeas.</p>
                <p>Observas.</p>

                <h3>üîç 1. Logs Estructurados</h3>

                <pre><code>{
  "level": "error",
  "timestamp": "2025-02-18T10:30:45.123Z",
  "requestId": "req-123-456",
  "endpoint": "/api/users",
  "method": "POST",
  "statusCode": 500,
  "message": "Database connection timeout",
  "stack": "..."
}</code></pre>

                <p><strong>Nunca loguees as√≠:</strong></p>

                <pre><code>console.log("Error:" + error)</code></pre>

                <p><strong>Siempre usa logging estructurado:</strong></p>

                <pre><code>logger.error({
  message: "Database connection timeout",
  error: error,
  requestId: req.id,
  endpoint: req.path
})</code></pre>

                <h3>üìä 2. M√©tricas</h3>

                <p>Rastrear lo que importa:</p>

                <ul>
                    <li>Tiempo de respuesta (latency)</li>
                    <li>Tasa de error</li>
                    <li>Requests por segundo</li>
                    <li>Uso de CPU</li>
                    <li>Uso de memoria</li>
                    <li>Conexiones a base de datos</li>
                </ul>

                <h3>üö® 3. Alertas</h3>

                <p>Notificar autom√°ticamente cuando algo falla:</p>

                <ul>
                    <li>Tasa de error > 5%</li>
                    <li>Tiempo de respuesta > 2s (p95)</li>
                    <li>CPU > 80%</li>
                    <li>Servicio ca√≠do</li>
                    <li>Espacio en disco < 10%</li>
                </ul>

                <p><strong>Regla senior:</strong></p>

                <p>Si no puedes medirlo, no puedes operarlo.</p>

                <h2>9Ô∏è‚É£ Paso 7: Health Checks</h2>

                <p><strong>Endpoints m√≠nimos de health check:</strong></p>

                <pre><code>GET /health
Response: 200 OK
{
  "status": "healthy",
  "timestamp": "2025-02-18T10:30:45Z"
}</code></pre>

                <pre><code>GET /ready
Response: 200 OK
{
  "ready": true,
  "database": "connected",
  "cache": "connected"
}</code></pre>

                <p><strong>/health</strong> ‚Üí ¬øEst√° viva?</p>
                <p><strong>/ready</strong> ‚Üí ¬øPuedo enviarle tr√°fico?</p>

                <p>Habilita reinicios autom√°ticos y auto-healing.</p>

                <h2>üîü Paso 8: Estrategias de Deployment</h2>

                <h3>üîµ Blue/Green Deployment</h3>

                <p>Dos entornos id√©nticos.</p>

                <ul>
                    <li>Blue = Producci√≥n actual</li>
                    <li>Green = Nueva versi√≥n</li>
                </ul>

                <p>Testea en Green, luego cambia tr√°fico.</p>

                <p>Si hay problemas, rollback instant√°neo a Blue.</p>

                <h3>üü° Canary Release</h3>

                <p>Env√≠a 5% del tr√°fico a nueva versi√≥n.</p>

                <p>Monitorea m√©tricas.</p>

                <p>Si es saludable, aumenta gradualmente a 100%.</p>

                <p>Si hay problemas, rollback instant√°neo.</p>

                <h3>üü¢ Rolling Deployment</h3>

                <p>Actualiza 1 instancia a la vez.</p>

                <p>Mant√©n el servicio arriba todo el tiempo.</p>

                <p>M√°s lento pero sin downtime.</p>

                <h2>1Ô∏è‚É£1Ô∏è‚É£ Paso 9: Estrategia de Rollback</h2>

                <p><strong>Excelencia operativa = Velocidad de recuperaci√≥n.</strong></p>

                <p><strong>Capacidad m√≠nima:</strong></p>

                <p>Re-deploy versi√≥n anterior en < 5 minutos.</p>

                <p><strong>C√≥mo:</strong></p>

                <ul>
                    <li>Mant√©n im√°genes Docker etiquetadas por versi√≥n</li>
                    <li>Guarda config de deployment anterior</li>
                    <li>Bot√≥n de rollback de un clic</li>
                    <li>Health checks autom√°ticos post-rollback</li>
                </ul>

                <h2>1Ô∏è‚É£2Ô∏è‚É£ Paso 10: Seguridad B√°sica</h2>

                <p>No necesitas ser un experto en seguridad, pero s√≠ debes:</p>

                <ul>
                    <li>‚úÖ Usar HTTPS en todos lados</li>
                    <li>‚úÖ Gestionar secretos correctamente (usa vaults, nunca en c√≥digo)</li>
                    <li>‚úÖ No exponer bases de datos directamente</li>
                    <li>‚úÖ Aplicar principio de menor privilegio</li>
                </ul>

                <h3>üîê Principio de Menor Privilegio</h3>

                <p>Tu aplicaci√≥n solo debe tener acceso a:</p>

                <p><strong>Exactamente lo que necesita.</strong></p>

                <p>Nada m√°s.</p>

                <p><strong>Malo:</strong></p>

                <p>App tiene acceso root a toda la infraestructura.</p>

                <p><strong>Bueno:</strong></p>

                <p>App solo puede:</p>

                <ul>
                    <li>Leer tabla espec√≠fica de base de datos</li>
                    <li>Escribir en bucket S3 espec√≠fico</li>
                    <li>Leer desde vault de secretos espec√≠fico</li>
                    <li>Nada m√°s</li>
                </ul>

                <p>Si es comprometida, el da√±o es limitado.</p>

                <h2>1Ô∏è‚É£3Ô∏è‚É£ El Ciclo Infinito</h2>

                <p><strong>El ciclo real nunca termina:</strong></p>

                <pre><code>Plan
‚Üì
Code
‚Üì
Build
‚Üì
Test
‚Üì
Release
‚Üì
Deploy
‚Üì
Operate
‚Üì
Monitor
‚Üì
Learn
‚Üì
Repeat</code></pre>

                <p>Este es el desarrollo moderno.</p>

                <p>No importa si es:</p>

                <ul>
                    <li>Backend</li>
                    <li>Frontend</li>
                    <li>Mobile</li>
                    <li>Infraestructura</li>
                </ul>

                <p>El ciclo es el mismo.</p>

                <h2>1Ô∏è‚É£4Ô∏è‚É£ Valor Profesional</h2>

                <p><strong>Cuando dominas esto, puedes:</strong></p>

                <ul>
                    <li>‚úÖ Aplicar a roles reales de Fullstack/DevOps</li>
                    <li>‚úÖ Aspirar a posiciones de Tech Lead</li>
                    <li>‚úÖ Arquitectar sistemas completos</li>
                    <li>‚úÖ Tomar decisiones t√©cnicas reales</li>
                    <li>‚úÖ Negociar mejor salario</li>
                </ul>

                <p>Porque aportas impacto real.</p>

                <h2>1Ô∏è‚É£5Ô∏è‚É£ Checklist de Listo para Producci√≥n</h2>

                <p><strong>¬øPuedes decir S√ç a todo esto?</strong></p>

                <table class="cheat-sheet-table">
                    <tr>
                        <th>Item</th>
                        <th>¬øListo?</th>
                    </tr>
                    <tr>
                        <td>Mi build es reproducible</td>
                        <td>‚òê</td>
                    </tr>
                    <tr>
                        <td>Tengo pipeline CI automatizado</td>
                        <td>‚òê</td>
                    </tr>
                    <tr>
                        <td>Tengo entorno staging</td>
                        <td>‚òê</td>
                    </tr>
                    <tr>
                        <td>Puedo deployar a producci√≥n de forma segura</td>
                        <td>‚òê</td>
                    </tr>
                    <tr>
                        <td>Tengo logging estructurado</td>
                        <td>‚òê</td>
                    </tr>
                    <tr>
                        <td>Tengo m√©tricas b√°sicas & dashboards</td>
                        <td>‚òê</td>
                    </tr>
                    <tr>
                        <td>Puedo hacer rollback r√°pido</td>
                        <td>‚òê</td>
                    </tr>
                    <tr>
                        <td>Gestiono secretos correctamente</td>
                        <td>‚òê</td>
                    </tr>
                    <tr>
                        <td>Mi app tiene health checks</td>
                        <td>‚òê</td>
                    </tr>
                    <tr>
                        <td>Entiendo c√≥mo operarla</td>
                        <td>‚òê</td>
                    </tr>
                </table>

                <p><strong>Si puedes marcar la mayor√≠a...</strong></p>

                <p>Ya no eres solo un developer.</p>

                <p>Est√°s operando como un senior.</p>

                <h2>1Ô∏è‚É£6Ô∏è‚É£ Preguntas de Entrevista</h2>

                <h3>‚ùì ¬øQu√© es CI/CD?</h3>

                <p>CI es testear y construir autom√°ticamente cada cambio.<br>
                CD es deployar autom√°ticamente despu√©s de validaci√≥n.</p>

                <h3>‚ùì ¬øCu√°l es la diferencia entre Blue/Green y Canary?</h3>

                <p>Blue/Green cambia todo el tr√°fico de una vez con rollback instant√°neo.<br>
                Canary aumenta tr√°fico gradualmente, monitoreando m√©tricas.</p>

                <h3>‚ùì ¬øPor qu√© no reconstruir para producci√≥n?</h3>

                <p>Porque diferentes builds pueden comportarse diferente debido a diferencias de entorno.<br>
                Siempre promociona el mismo artefacto testeado.</p>

                <h3>‚ùì ¬øQu√© es el principio de menor privilegio?</h3>

                <p>Dale a las aplicaciones solo los permisos que absolutamente necesitan.<br>
                Limita el da√±o si es comprometida.</p>

                <h3>‚ùì ¬øPor qu√© son importantes los health checks?</h3>

                <p>Habilitan reinicios autom√°ticos, los load balancers saben cu√°ndo enviar tr√°fico,<br>
                los orquestadores pueden auto-sanarse.</p>

                <h2>1Ô∏è‚É£7Ô∏è‚É£ Mentalidad Senior</h2>

                <ul>
                    <li>El c√≥digo no es el producto. El c√≥digo funcional y operacional s√≠.</li>
                    <li>Tu pipeline de CI/CD es parte de tu arquitectura.</li>
                    <li>Si no puedes desplegarlo de forma segura, no est√° hecho.</li>
                    <li>La observabilidad no es opcional. Es c√≥mo operas.</li>
                    <li>Velocidad de rollback = Excelencia operativa.</li>
                    <li>Eres responsable de todo el ciclo de vida.</li>
                </ul>

                <h2>1Ô∏è‚É£8Ô∏è‚É£ Una Frase Para Recordar</h2>

                <p><strong>"You build it, you run it. El software no est√° hecho hasta que est√° en producci√≥n, funcionando de forma confiable, y puedes operarlo con confianza."</strong></p>

                <h2>1Ô∏è‚É£9Ô∏è‚É£ Referencias y Recursos</h2>

                <ul>
                    <li><a href="https://12factor.net/" target="_blank">12 Factor App Methodology</a></li>
                    <li><a href="https://www.docker.com/resources/what-docker/" target="_blank">Documentaci√≥n Oficial Docker</a></li>
                    <li><a href="https://www.atlassian.com/continuous-delivery" target="_blank">Continuous Delivery - Mejores Pr√°cticas</a></li>
                    <li><a href="https://chatgpt.com/g/g-p-69925f6597e88191b8bcb93447c5bb78-dragos/" target="_blank">Dragos - Patrones de DevOps & Arquitectura</a></li>
                </ul>

                <div class="navigation-buttons">
                    <button class="btn btn-secondary" onclick="window.location.href='../index.html'">‚Üê Volver Atr√°s</button>
                    <button class="btn btn-primary" onclick="window.location.href='../../index.html'">Volver al Inicio ‚Üí</button>
                </div>
            </section>
        </main>
    </div>

    <script src="../../assets/js/app.js"></script>
</body>
</html>
