<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>El Pipeline de Despliegue | Ciclo de Software</title>
    <link rel="stylesheet" href="../../assets/css/styles.css">
</head>
<body>
    <div class="container">
        <aside id="sidebar" class="sidebar"></aside>
        <main class="main-content">
            <section id="section-deployment-pipeline">
                <h1>üöÄ El Pipeline de Despliegue</h1>
                <p><strong>Gu√≠a Completa para Despliegues Seguros y Reversibles en Producci√≥n</strong></p>

                <h2>üéØ Objetivo</h2>

                <p>Entregar cambios a producci√≥n de forma segura, repetible y sin downtime, con capacidad de rollback inmediato si algo falla.</p>

                <p><strong>Un despliegue no termina cuando el c√≥digo "sube".<br>
                Termina cuando:</strong></p>

                <ul>
                    <li>El sistema est√° healthy</li>
                    <li>Las m√©tricas est√°n estables</li>
                    <li>No hay regresiones</li>
                    <li>Podemos volver atr√°s en segundos si algo falla</li>
                </ul>

                <h2>1Ô∏è‚É£ CI vs Continuous Delivery vs Continuous Deployment</h2>

                <h3>üîπ Continuous Integration (CI)</h3>

                <p>Cada commit:</p>

                <ul>
                    <li>Se construye (build)</li>
                    <li>Se ejecutan tests</li>
                    <li>Se valida autom√°ticamente</li>
                </ul>

                <p>üëâ <strong>Objetivo: detectar errores lo antes posible.</strong></p>

                <h3>üîπ Continuous Delivery</h3>

                <p>El sistema est√° siempre listo para desplegar.</p>

                <p><strong>Pipeline t√≠pico:</strong></p>

                <p>Commit ‚Üí Build ‚Üí Tests ‚Üí Artifact ‚Üí Deploy Staging ‚Üí Verify ‚Üí (Manual Approval) ‚Üí Production</p>

                <p>Aqu√≠ hay un bot√≥n humano antes de producci√≥n.</p>

                <p>üëâ <strong>Es lo m√°s com√∫n en empresas.</strong></p>

                <h3>üîπ Continuous Deployment</h3>

                <p>Cada cambio que pasa el pipeline:</p>

                <p>Commit ‚Üí Build ‚Üí Tests ‚Üí Artifact ‚Üí Production (autom√°tico)</p>

                <p>Sin aprobaci√≥n manual.</p>

                <p>‚ö†Ô∏è <strong>Solo viable si:</strong></p>

                <ul>
                    <li>Tests son muy s√≥lidos</li>
                    <li>Observabilidad es buena</li>
                    <li>Rollback es r√°pido</li>
                    <li>Equipo es maduro</li>
                </ul>

                <h2>2Ô∏è‚É£ ¬øQu√© significa realmente "desplegar"?</h2>

                <p>Depende del tipo de aplicaci√≥n.</p>

                <h3>üü¢ Caso 1: Web est√°tica (SPA)</h3>

                <p>React build ‚Üí archivos HTML/CSS/JS</p>

                <p>Se puede desplegar en:</p>

                <ul>
                    <li>S3 + CloudFront</li>
                    <li>Vercel</li>
                    <li>Netlify</li>
                    <li>Azure Blob</li>
                </ul>

                <p>No necesitas servidor aqu√≠.</p>

                <p>Rollback = volver a subir versi√≥n anterior.</p>

                <h3>üü¢ Caso 2: Backend / SSR / API</h3>

                <p>Necesitas compute:</p>

                <ul>
                    <li>Virtual Machine</li>
                    <li>Containers</li>
                    <li>Serverless</li>
                </ul>

                <p>Aqu√≠ el despliegue implica:</p>

                <ul>
                    <li>Actualizar proceso</li>
                    <li>Gestionar tr√°fico</li>
                    <li>Manejar estado</li>
                    <li>Controlar downtime</li>
                </ul>

                <h2>3Ô∏è‚É£ Evoluci√≥n de las formas de desplegar</h2>

                <h3>1Ô∏è‚É£ On-Premise</h3>

                <p>Servidor f√≠sico propio.</p>

                <p><strong>Pros:</strong></p>

                <ul>
                    <li>Control total</li>
                </ul>

                <p><strong>Contras:</strong></p>

                <ul>
                    <li>Escalabilidad limitada</li>
                    <li>Coste alto</li>
                    <li>Operaciones complejas</li>
                </ul>

                <h3>2Ô∏è‚É£ Virtual Machines (Cloud)</h3>

                <p>Ej: EC2, Azure VM</p>

                <p>Cloud providers usan hypervisor para crear m√∫ltiples VMs dentro de grandes m√°quinas f√≠sicas.</p>

                <p><strong>Pros:</strong></p>

                <ul>
                    <li>M√°s flexible</li>
                    <li>Escalable</li>
                    <li>Control completo</li>
                </ul>

                <p><strong>Contras:</strong></p>

                <p>T√∫ gestionas:</p>

                <ul>
                    <li>Parches</li>
                    <li>Seguridad</li>
                    <li>Escalado</li>
                    <li>Reinicios</li>
                </ul>

                <h3>3Ô∏è‚É£ Containers (Docker)</h3>

                <p>Aqu√≠ no gestionas tanto el servidor.</p>

                <p>Subes una imagen Docker:</p>

                <pre><code>docker build ‚Üí docker push ‚Üí cloud runs it</code></pre>

                <p>Ej:</p>

                <ul>
                    <li>ECS / Fargate</li>
                    <li>Kubernetes</li>
                    <li>Cloud Run</li>
                </ul>

                <p><strong>Pros:</strong></p>

                <ul>
                    <li>Reproducible</li>
                    <li>Portable</li>
                    <li>Est√°ndar en empresas</li>
                </ul>

                <p><strong>Contras:</strong></p>

                <ul>
                    <li>M√°s complejidad inicial</li>
                </ul>

                <h3>4Ô∏è‚É£ Serverless</h3>

                <p>Ej:</p>

                <ul>
                    <li>AWS Lambda</li>
                    <li>Azure Functions</li>
                </ul>

                <p>Subes c√≥digo ‚Üí el proveedor ejecuta.</p>

                <p><strong>Pros:</strong></p>

                <ul>
                    <li>Escala autom√°tico</li>
                    <li>Pagas por uso</li>
                    <li>Casi cero infraestructura</li>
                </ul>

                <p><strong>Contras:</strong></p>

                <ul>
                    <li>L√≠mites</li>
                    <li>Cold starts</li>
                    <li>Debugging m√°s dif√≠cil</li>
                    <li>Vendor lock-in</li>
                </ul>

                <h2>4Ô∏è‚É£ Requisitos de un buen despliegue</h2>

                <p>Dos cosas clave:</p>

                <p><strong>‚úÖ Zero Downtime</strong></p>

                <p>El usuario no debe notar el despliegue.</p>

                <p><strong>‚úÖ Reversible</strong></p>

                <p>Debe existir mecanismo de rollback inmediato.</p>

                <p><strong>Un despliegue sin rollback no es production-ready.</strong></p>

                <h2>5Ô∏è‚É£ Deployment Styles (C√≥mo desplegar sin romper nada)</h2>

                <h3>1Ô∏è‚É£ In-Place (Big Bang)</h3>

                <p>Actualizas servidor existente y reinicias.</p>

                <p><strong>Pros:</strong></p>

                <ul>
                    <li>Simple</li>
                    <li>Barato</li>
                </ul>

                <p><strong>Contras:</strong></p>

                <ul>
                    <li>Downtime</li>
                    <li>Riesgo alto</li>
                    <li>Rollback lento</li>
                </ul>

                <p>Solo aceptable en:</p>

                <ul>
                    <li>Proyectos peque√±os</li>
                    <li>Entornos internos</li>
                </ul>

                <h3>2Ô∏è‚É£ Rolling Deployment</h3>

                <p>Actualizas instancias poco a poco.</p>

                <p>Ej:</p>

                <p>10 servidores<br>
                Actualizas 1 ‚Üí validas ‚Üí actualizas siguiente</p>

                <p><strong>Pros:</strong></p>

                <ul>
                    <li>Casi sin downtime</li>
                    <li>M√°s seguro</li>
                </ul>

                <p><strong>Contras:</strong></p>

                <ul>
                    <li>Conviven versiones distintas</li>
                </ul>

                <p>‚ö†Ô∏è <strong>Requiere compatibilidad hacia atr√°s.</strong></p>

                <h3>3Ô∏è‚É£ Blue / Green</h3>

                <p>Tienes dos entornos completos:</p>

                <ul>
                    <li>Blue = producci√≥n actual</li>
                    <li>Green = nueva versi√≥n</li>
                </ul>

                <p>Cuando Green est√° validado:<br>
                ‚Üí Cambias tr√°fico</p>

                <p><strong>Pros:</strong></p>

                <ul>
                    <li>Rollback instant√°neo</li>
                    <li>Sin downtime real</li>
                </ul>

                <p><strong>Contras:</strong></p>

                <ul>
                    <li>Doble infraestructura</li>
                </ul>

                <p>Muy com√∫n en sistemas cr√≠ticos.</p>

                <h3>4Ô∏è‚É£ Canary Deployment</h3>

                <p>Env√≠as peque√±o porcentaje de tr√°fico:</p>

                <p>10% ‚Üí 30% ‚Üí 60% ‚Üí 100%</p>

                <p><strong>Pros:</strong></p>

                <ul>
                    <li>Detectas problemas reales antes de impactar a todos</li>
                </ul>

                <p><strong>Contras:</strong></p>

                <ul>
                    <li>Necesitas m√©tricas s√≥lidas</li>
                </ul>

                <p>‚ö†Ô∏è <strong>Canary sin m√©tricas = apostar a ciegas</strong></p>

                <h2>6Ô∏è‚É£ Rollback real (lo que casi nadie explica)</h2>

                <p>Hay 3 niveles:</p>

                <h3>1Ô∏è‚É£ Rollback de aplicaci√≥n</h3>

                <p>Volver a imagen anterior:</p>

                <pre><code>deploy image:v1.2.3</code></pre>

                <p>Si versionas artefactos bien ‚Üí f√°cil.</p>

                <h3>2Ô∏è‚É£ Rollback de configuraci√≥n</h3>

                <p>A veces el problema es:</p>

                <ul>
                    <li>Variable de entorno</li>
                    <li>Feature flag</li>
                    <li>Secret mal configurado</li>
                </ul>

                <p>Debes tener configuraci√≥n auditada y versionada.</p>

                <h3>3Ô∏è‚É£ Rollback de base de datos (el dif√≠cil)</h3>

                <p>Nunca hagas migraciones destructivas antes de tiempo.</p>

                <p><strong>Estrategia correcta:</strong></p>

                <p>Expand ‚Üí Migrate ‚Üí Contract</p>

                <ul>
                    <li>A√±ades nueva columna (sin borrar nada)</li>
                    <li>Despliegas c√≥digo compatible</li>
                    <li>Migras datos</li>
                    <li>Eliminas estructura vieja despu√©s</li>
                </ul>

                <p>As√≠ Rolling o Blue/Green no rompe nada.</p>

                <h2>7Ô∏è‚É£ Monitoring: El despliegue no termina cuando sube</h2>

                <p>Despu√©s de desplegar debes verificar:</p>

                <p><strong>Checklist post-deploy:</strong></p>

                <ul>
                    <li>Health checks OK</li>
                    <li>Error rate estable</li>
                    <li>Latencia p95/p99 normal</li>
                    <li>CPU/mem no se disparan</li>
                    <li>No nuevas alertas</li>
                    <li>Smoke tests pasan</li>
                </ul>

                <p>Si algo falla:<br>
                ‚Üí Rollback inmediato</p>

                <h2>8Ô∏è‚É£ Pipeline moderno completo</h2>

                <p>Ejemplo con containers:</p>

                <pre><code>Commit
  ‚Üì
Build Docker Image
  ‚Üì
Run Tests
  ‚Üì
Security Scan
  ‚Üì
Push to Registry
  ‚Üì
Deploy to Staging
  ‚Üì
Smoke Tests
  ‚Üì
Manual Approval (Delivery)
  ‚Üì
Deploy Production (Rolling / BlueGreen / Canary)
  ‚Üì
Monitor
  ‚Üì
Auto Rollback if metrics fail</code></pre>

                <p><strong>Eso es cerrar el ciclo de CI/CD.</strong></p>

                <h2>9Ô∏è‚É£ C√≥mo piensa una empresa madura</h2>

                <p>Una empresa madura:</p>

                <ul>
                    <li>No despliega sin m√©tricas</li>
                    <li>No despliega sin rollback</li>
                    <li>No rompe compatibilidad en DB</li>
                    <li>Automatiza todo lo repetible</li>
                    <li>Mide impacto real</li>
                    <li>Hace despliegues peque√±os y frecuentes</li>
                </ul>

                <p><strong>Porque peque√±os cambios = menor riesgo.</strong></p>

                <h2>üîü Resumen mental</h2>

                <p><strong>Si recuerdas solo esto:</strong></p>

                <p><strong>Automatizaci√≥n + Observabilidad + Rollback r√°pido = Despliegue seguro</strong></p>

                <p><strong>Y:</strong></p>

                <p><strong>Zero Downtime no es magia.<br>
                Es arquitectura + estrategia + disciplina.</strong></p>

                <h2>üìö Recursos</h2>

                <ul>
                    <li><a href="https://chatgpt.com/g/g-p-69925f6597e88191b8bcb93447c5bb78-dragos/c/699653fb-a7ac-8384-af94-ce53da2c6840" target="_blank">El Pipeline de Despliegue ‚Äî Gu√≠a Completa - Dragos</a></li>
                </ul>

                <div class="navigation-buttons">
                    <button class="btn btn-secondary" onclick="window.location.href='../index.html'">‚Üê Volver Atr√°s</button>
                    <button class="btn btn-primary" onclick="window.location.href='../../index.html'">Volver al Inicio ‚Üí</button>
                </div>
            </section>
        </main>
    </div>

    <script src="../../assets/js/app.js"></script>
</body>
</html>
