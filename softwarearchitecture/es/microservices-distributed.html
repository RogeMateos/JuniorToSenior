<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Microservices & Distributed Systems | Arquitectura de Software</title>
    <link rel="stylesheet" href="../../assets/css/styles.css">
</head>
<body>
    <div class="container">
        <main class="main-content">
            <section id="section-microservices-distributed">
                <h1>üéõÔ∏è 1.3 Microservices & Distributed Systems</h1>
                <p><strong>De Monolith a Sistemas Distribuidos (Mentalidad Senior)</strong></p>

                <h2>1Ô∏è‚É£ El Punto de Partida: Arquitectura por Capas + SOA</h2>

                <p>Cuando aplicamos:</p>

                <ul>
                    <li>SOLID</li>
                    <li>Layered Architecture</li>
                    <li>Separaci√≥n de responsabilidades</li>
                    <li>Service Oriented Architecture</li>
                </ul>

                <p>Terminamos en algo como esto:</p>

                <pre><code>Frontend (SPA)
      ‚Üì
Backend Monolith
  - Controllers
  - Services
  - Repositories
  - Shared Database</code></pre>

                <p>Esto se llama:</p>

                <p>üß± <strong>Modular Monolith</strong></p>

                <p>Un monolito bien organizado.</p>

                <p>Y esto es importante:</p>

                <p><strong>‚ö†Ô∏è Modular Monolith ‚â† Spaghetti Monolith</strong></p>

                <p>Un modular monolith est√° bien estructurado internamente.</p>

                <h2>2Ô∏è‚É£ Qu√© es un Modular Monolith</h2>

                <p>Un backend √∫nico que:</p>

                <ul>
                    <li>Est√° dividido en m√≥dulos claros (Payments, Users, Orders‚Ä¶)</li>
                    <li>Sigue arquitectura por capas</li>
                    <li>Comparte una base de datos</li>
                    <li>Se despliega como una sola unidad</li>
                </ul>

                <p><strong>Ejemplo:</strong></p>

                <pre><code>/src
  /users
  /payments
  /orders
  /email</code></pre>

                <p>Cada m√≥dulo tiene:</p>

                <ul>
                    <li>Controller</li>
                    <li>Service</li>
                    <li>Repository</li>
                    <li>Domain logic</li>
                </ul>

                <p>Todo dentro del mismo deploy.</p>

                <h2>3Ô∏è‚É£ Por Qu√© Funciona Muy Bien al Principio</h2>

                <p>Porque:</p>

                <ul>
                    <li>‚úÖ Debug sencillo (todo en el mismo proceso)</li>
                    <li>‚úÖ Transacciones simples</li>
                    <li>‚úÖ INNER JOINs sin problemas</li>
                    <li>‚úÖ Infraestructura simple</li>
                    <li>‚úÖ CI/CD sencillo</li>
                    <li>‚úÖ F√°cil para equipos peque√±os</li>
                </ul>

                <p>Para un equipo de 5‚Äì8 personas, esto es perfecto.</p>

                <h2>4Ô∏è‚É£ El Problema Empieza Cuando Escalas el Equipo</h2>

                <p>Imagina que ahora tienes:</p>

                <ul>
                    <li>20 backend developers</li>
                    <li>15 frontend developers</li>
                    <li>QA</li>
                    <li>DevOps</li>
                    <li>Product</li>
                </ul>

                <p>Todos tocando el mismo repositorio.</p>

                <p>Empiezan a aparecer problemas.</p>

                <h2>5Ô∏è‚É£ Problemas Reales del Monolito en Escala</h2>

                <h3>üî¥ 1. Punto √önico de Fallo</h3>

                <p>Un bug en un m√≥dulo puede afectar todo el sistema.</p>

                <p>Todo o nada.</p>

                <h3>üî¥ 2. Bottleneck de Deploy</h3>

                <p>Cada cambio implica:</p>

                <ul>
                    <li>Build completo</li>
                    <li>Tests completos</li>
                    <li>Deploy completo</li>
                </ul>

                <p>Aunque solo cambiaste el m√≥dulo de Email.</p>

                <p>El pipeline empieza a tardar 30‚Äì40 minutos.</p>

                <h3>üî¥ 3. Escalado Ineficiente</h3>

                <p>Si solo el endpoint de Payments recibe carga alta‚Ä¶</p>

                <p>Debes escalar TODO el backend.</p>

                <p>Eso es caro.</p>

                <h3>üî¥ 4. Riesgo en Base de Datos</h3>

                <p>Base de datos compartida significa:</p>

                <ul>
                    <li>Migraciones peligrosas</li>
                    <li>Riesgo alto en producci√≥n</li>
                    <li>Equipos pis√°ndose</li>
                </ul>

                <h3>üî¥ 5. Conway's Law (Muy Importante)</h3>

                <p>Conway's Law dice:</p>

                <p><strong>El software refleja la estructura de comunicaci√≥n del equipo.</strong></p>

                <p>Y esto es brutalmente cierto.</p>

                <p>Si tienes 30 personas trabajando en un solo sistema:</p>

                <p>El sistema tender√° a ser complejo y lleno de fricci√≥n.</p>

                <p>Adem√°s, la comunicaci√≥n escala exponencialmente:</p>

                <p><strong>F√≥rmula de l√≠neas de comunicaci√≥n:</strong></p>

                <pre><code>n(n-1)/2</code></pre>

                <p><strong>Ejemplo:</strong></p>

                <ul>
                    <li>3 personas ‚Üí 3 l√≠neas</li>
                    <li>10 personas ‚Üí 45 l√≠neas</li>
                    <li>14 personas ‚Üí 91 l√≠neas</li>
                </ul>

                <p>La comunicaci√≥n se vuelve el cuello de botella.</p>

                <h2>6Ô∏è‚É£ Se Forman Silos</h2>

                <p>En monolitos grandes ocurre esto:</p>

                <ul>
                    <li>Equipo de DB</li>
                    <li>Equipo de Backend</li>
                    <li>Equipo de Frontend</li>
                    <li>Equipo de Auth</li>
                </ul>

                <p>Y nadie entrega features end-to-end.</p>

                <p>Eso rompe la agilidad.</p>

                <h2>7Ô∏è‚É£ Nace la Soluci√≥n: Microservices</h2>

                <p>La idea es:</p>

                <p>Extraer m√≥dulos del monolito y convertirlos en servicios independientes.</p>

                <p><strong>Antes:</strong></p>

                <pre><code>Monolith
 - Users
 - Payments
 - Orders
 - Email</code></pre>

                <p><strong>Despu√©s:</strong></p>

                <pre><code>Frontend
   ‚Üì
Users Service
Payments Service
Orders Service
Email Service</code></pre>

                <p>Cada uno:</p>

                <ul>
                    <li>Deploy independiente</li>
                    <li>Base de datos propia</li>
                    <li>Equipo propio</li>
                    <li>Escalado propio</li>
                </ul>

                <h2>8Ô∏è‚É£ Qu√© Es Realmente Microservices</h2>

                <p>Microservices NO es:</p>

                <p>‚ùå "Muchos proyectos peque√±os"</p>

                <p>Microservices es:</p>

                <p><strong>Separar dominios de negocio en unidades aut√≥nomas que pueden evolucionar de forma independiente.</strong></p>

                <p><strong>Clave:</strong></p>

                <p>Autonom√≠a.</p>

                <h2>9Ô∏è‚É£ Ventajas Reales de Microservices</h2>

                <h3>üü¢ 1. Equipos Aut√≥nomos</h3>

                <p>Equipo Payments despliega sin bloquear a Orders.</p>

                <p>Menos coordinaci√≥n = m√°s velocidad.</p>

                <h3>üü¢ 2. Deploy Paralelo</h3>

                <p>Puedes desplegar:</p>

                <ul>
                    <li>Payments v2</li>
                    <li>Email improvements</li>
                    <li>Orders bugfix</li>
                </ul>

                <p>El mismo d√≠a.</p>

                <h3>üü¢ 3. Escalado Selectivo</h3>

                <p>Solo escalas el servicio que necesita m√°s capacidad.</p>

                <p>M√°s eficiente y m√°s barato.</p>

                <h3>üü¢ 4. Blast Radius Reducido</h3>

                <p>Si Email falla‚Ä¶</p>

                <p>Payments sigue funcionando.</p>

                <p>El sistema no cae entero.</p>

                <h2>üîü Pero‚Ä¶ Microservices Tiene un Precio (La "Microservices Tax")</h2>

                <p>Aqu√≠ viene la parte senior.</p>

                <p>Microservices introduce complejidad distribuida.</p>

                <h3>üî¥ 1. Debug Mucho M√°s Dif√≠cil</h3>

                <p><strong>Antes:</strong></p>

                <ul>
                    <li>Step-through debugging en un solo proceso</li>
                </ul>

                <p><strong>Ahora:</strong></p>

                <ul>
                    <li>Logs distribuidos</li>
                    <li>Tracing</li>
                    <li>Latencia</li>
                    <li>Timeouts</li>
                    <li>Fallos de red</li>
                </ul>

                <p>Necesitas:</p>

                <ul>
                    <li>Observabilidad</li>
                    <li>Distributed tracing (Jaeger, Zipkin, etc.)</li>
                    <li>Centralized logging</li>
                </ul>

                <h3>üî¥ 2. No Hay INNER JOIN</h3>

                <p>Cada servicio tiene su propia base de datos.</p>

                <p>No puedes hacer:</p>

                <pre><code>SELECT * FROM users
JOIN payments</code></pre>

                <p>Debes:</p>

                <ul>
                    <li>Hacer llamadas HTTP</li>
                    <li>Manejar latencia</li>
                    <li>Manejar fallos</li>
                    <li>Manejar consistencia eventual</li>
                </ul>

                <p>Eso complica el modelo mental.</p>

                <h3>üî¥ 3. Transacciones Distribuidas</h3>

                <p>ACID es f√°cil en monolito.</p>

                <p>En microservices‚Ä¶</p>

                <p>Debes usar:</p>

                <ul>
                    <li>Saga pattern</li>
                    <li>Event-driven architecture</li>
                    <li>Eventual consistency</li>
                </ul>

                <p>Eso es nivel avanzado.</p>

                <h3>üî¥ 4. Infraestructura M√°s Compleja</h3>

                <p>Necesitas:</p>

                <ul>
                    <li>Service discovery</li>
                    <li>API Gateway</li>
                    <li>Load balancers</li>
                    <li>Circuit breakers</li>
                    <li>Retries</li>
                    <li>Monitoring</li>
                    <li>Versioning</li>
                    <li>Security per service</li>
                </ul>

                <p>No es trivial.</p>

                <h2>1Ô∏è‚É£1Ô∏è‚É£ Mental Model Correcto</h2>

                <p>Piensa en:</p>

                <p>üèùÔ∏è <strong>Microservices = Islas</strong></p>

                <p>Cada isla:</p>

                <ul>
                    <li>Vive sola</li>
                    <li>Tiene su propia base de datos</li>
                    <li>Se comunica por red</li>
                </ul>

                <p>Pero la red es un entorno hostil.</p>

                <p><strong>La red puede fallar.</strong></p>

                <p>Siempre asume que puede fallar.</p>

                <h2>1Ô∏è‚É£2Ô∏è‚É£ Cu√°ndo NO Usar Microservices</h2>

                <p>Esto es muy importante.</p>

                <p>NO uses microservices si:</p>

                <ul>
                    <li>Tu equipo es peque√±o (< 10 devs)</li>
                    <li>Tu producto no est√° validado</li>
                    <li>No tienes madurez DevOps</li>
                    <li>No tienes observabilidad</li>
                    <li>No tienes experiencia en sistemas distribuidos</li>
                </ul>

                <p>En ese caso:</p>

                <p>üëâ <strong>Modular Monolith es superior.</strong></p>

                <h2>1Ô∏è‚É£3Ô∏è‚É£ Estrategia Senior Real</h2>

                <p>La evoluci√≥n sana es:</p>

                <ol>
                    <li>Empieza con modular monolith</li>
                    <li>Dise√±a l√≠mites de dominio claros (DDD)</li>
                    <li>Cuando el equipo crezca y el monolito se vuelva cuello de botella‚Ä¶</li>
                    <li>Extrae servicios gradualmente</li>
                </ol>

                <p><strong>No empieces con microservices por moda.</strong></p>

                <h2>1Ô∏è‚É£4Ô∏è‚É£ La Gran Verdad</h2>

                <p><strong>Microservices no escala c√≥digo.</strong></p>

                <p><strong>Microservices escala equipos.</strong></p>

                <p>Esto es lo que casi nadie entiende al principio.</p>

                <h2>1Ô∏è‚É£5Ô∏è‚É£ Resumen Ejecutivo</h2>

                <table class="cheat-sheet-table">
                    <tr>
                        <th></th>
                        <th>Modular Monolith</th>
                        <th>Microservices</th>
                    </tr>
                    <tr>
                        <td>Complejidad</td>
                        <td>Simple</td>
                        <td>Compleja</td>
                    </tr>
                    <tr>
                        <td>Debug</td>
                        <td>F√°cil</td>
                        <td>Debug distribuido</td>
                    </tr>
                    <tr>
                        <td>Base de datos</td>
                        <td>√önica compartida</td>
                        <td>DB por servicio</td>
                    </tr>
                    <tr>
                        <td>Despliegue</td>
                        <td>Deploy √∫nico</td>
                        <td>Deploys independientes</td>
                    </tr>
                    <tr>
                        <td>Escalado</td>
                        <td>Todo o nada</td>
                        <td>Escalado selectivo</td>
                    </tr>
                    <tr>
                        <td>Ideal para</td>
                        <td>Equipos peque√±os</td>
                        <td>Equipos grandes</td>
                    </tr>
                </table>

                <h2>1Ô∏è‚É£6Ô∏è‚É£ El Coste de Cada Enfoque</h2>

                <table class="cheat-sheet-table">
                    <tr>
                        <th>Coste</th>
                        <th>Monolith</th>
                        <th>Microservices</th>
                    </tr>
                    <tr>
                        <td>Complejidad de c√≥digo</td>
                        <td>‚≠ê‚≠ê</td>
                        <td>‚≠ê‚≠ê‚≠ê</td>
                    </tr>
                    <tr>
                        <td>Complejidad operacional</td>
                        <td>‚≠ê</td>
                        <td>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</td>
                    </tr>
                    <tr>
                        <td>Coste infraestructura</td>
                        <td>‚≠ê‚≠ê</td>
                        <td>‚≠ê‚≠ê‚≠ê‚≠ê</td>
                    </tr>
                    <tr>
                        <td>Coordinaci√≥n de equipos</td>
                        <td>‚≠ê‚≠ê‚≠ê‚≠ê</td>
                        <td>‚≠ê</td>
                    </tr>
                </table>

                <h2>1Ô∏è‚É£7Ô∏è‚É£ Errores Comunes</h2>

                <ul>
                    <li>‚ùå Usar microservices en una startup</li>
                    <li>‚ùå No tener observabilidad en primer lugar</li>
                    <li>‚ùå Crear demasiados servicios peque√±os (nano-services)</li>
                    <li>‚ùå Olvidar los desaf√≠os de consistencia</li>
                    <li>‚ùå No tener l√≠mites de dominio claros (DDD)</li>
                    <li>‚ùå Ignorar la complejidad operacional</li>
                    <li>‚ùå Usar async/messaging sin una estrategia</li>
                </ul>

                <h2>1Ô∏è‚É£8Ô∏è‚É£ El Camino de Evoluci√≥n</h2>

                <pre><code>Monolith (Spaghetti)
   ‚Üì
Layered Architecture
   ‚Üì
Modular Monolith
   ‚Üì
Domain-Driven Design (l√≠mites claros)
   ‚Üì
Microservices (cuando crece el equipo)
   ‚Üì
Distributed architecture (madurez)</code></pre>

                <h2>üéØ Conclusi√≥n Final (Mentalidad Senior)</h2>

                <p>Microservices NO es una mejora t√©cnica.</p>

                <p><strong>Es una decisi√≥n organizacional.</strong></p>

                <p>Es una herramienta para:</p>

                <ul>
                    <li>Reducir fricci√≥n organizacional</li>
                    <li>Aumentar autonom√≠a</li>
                    <li>Escalar equipos</li>
                </ul>

                <p>Pero introduces:</p>

                <ul>
                    <li>Complejidad distribuida</li>
                    <li>Fallos de red</li>
                    <li>Consistencia eventual</li>
                    <li>Infraestructura avanzada</li>
                </ul>

                <p><strong>La decisi√≥n de ir a microservices deber√≠a basarse en necesidades organizacionales, no en hype t√©cnico.</strong></p>

                <h2>üéØ Puntos Clave</h2>

                <ul>
                    <li>‚úî Modular Monolith escala bien hasta equipos medianos</li>
                    <li>‚úî Microservices es una herramienta organizacional, no t√©cnica</li>
                    <li>‚úî La red siempre falla‚Äîdise√±a para eso</li>
                    <li>‚úî Transacciones ACID se vuelven consistencia eventual</li>
                    <li>‚úî Debug distribuido requiere observabilidad seria</li>
                    <li>‚úî Cada servicio necesita su propia base de datos (aislamiento)</li>
                    <li>‚úî Conway's Law: el sistema refleja la estructura del equipo</li>
                    <li>‚úî No empieces con microservices a menos que necesites escalar equipos</li>
                    <li>‚úî El impuesto de complejidad operacional es real y pesado</li>
                    <li>‚úî Un monolito bien dise√±ado supera un sistema distribuido mal hecho</li>
                </ul>

                <h2>üìö Recursos</h2>

                <ul>
                    <li><a href="https://chatgpt.com/g/g-p-69925f6597e88191b8bcb93447c5bb78-dragos/c/6998844a-a4ac-8392-b367-e0febd2e415a" target="_blank">Microservices & Distributed Systems - Dragos</a></li>
                </ul>

                <div class="navigation-buttons">
                    <button class="btn btn-secondary" onclick="window.location.href='../index.html'">‚Üê Volver Atr√°s</button>
                    <button class="btn btn-primary" onclick="window.location.href='../../index.html'">Volver al Inicio ‚Üí</button>
                </div>
            </section>
        </main>
    </div>

    <script src="../../assets/js/app.js"></script>
</body>
</html>
