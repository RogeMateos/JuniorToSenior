<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Static Assets: ImÃ¡genes, Fuentes y CSS | Frontend Mastery</title>
    <link rel="stylesheet" href="../../../assets/css/styles.css">
</head>
<body>
    <div class="container">
        <main class="main-content">
            <section class="content-section">
                <h1>ğŸ–¼ Static Assets: ImÃ¡genes, Fuentes & CSS</h1>
                <p class="section-description">OptimizaciÃ³n de Static Assets en Web Performance</p>

                <!-- OBJETIVO -->
                <div class="concept-block">
                    <h2>ğŸ¯ Objetivo del mÃ³dulo</h2>
                    <p>Aprender a optimizar CSS, imÃ¡genes y fuentes para mejorar:</p>
                    <ul>
                        <li>âš¡ First Contentful Paint (FCP)</li>
                        <li>ğŸ–¼ Largest Contentful Paint (LCP)</li>
                        <li>ğŸ“‰ CLS (Cumulative Layout Shift)</li>
                        <li>â± Tiempo total de carga</li>
                    </ul>
                </div>

                <!-- MENTAL MODEL -->
                <div class="analogy-block" data-title="Mental Model: El orden importa">
                    <p>Antes de optimizar React, memoization o hooksâ€¦</p>
                    <p>ğŸ‘‰ Si tus imÃ¡genes pesan 2MB cada una</p>
                    <p>ğŸ‘‰ Si tu CSS bloquea el render</p>
                    <p>ğŸ‘‰ Si tus fuentes retrasan el texto</p>
                    <p><strong>Nada mÃ¡s importa.</strong></p>
                    <p><strong>Primero optimizamos assets. Luego JavaScript.</strong></p>
                </div>

                <!-- PASO 1 - DIAGNÃ“STICO -->
                <h2>ğŸ§ª Paso 1 â€” DiagnÃ³stico (SIEMPRE primero)</h2>

                <h3>Herramientas clave</h3>
                <ul>
                    <li><strong>Lighthouse</strong></li>
                    <li><strong>DevTools â†’ Network</strong></li>
                    <li><strong>DevTools â†’ Coverage</strong></li>
                </ul>

                <h3>ğŸ“Š Usar Coverage para CSS no utilizado</h3>
                <div class="solution-block">
                    <ol>
                        <li>Abre DevTools</li>
                        <li>More Tools â†’ Coverage</li>
                        <li>Click en Reload</li>
                        <li>Observa quÃ© porcentaje del CSS estÃ¡ en rojo</li>
                    </ol>
                    <p><strong>ğŸ”´ Rojo = no utilizado en ese render</strong></p>
                    <p><strong>ğŸŸ¢ Verde = utilizado</strong></p>
                </div>

                <div class="warning-block" data-title="InterpretaciÃ³n senior">
                    <p>Coverage no significa "esto nunca se usa".</p>
                    <p>Significa "esto no se usa ahora".</p>
                    <p>Pero es perfecto para detectar:</p>
                    <ul>
                        <li>CSS legacy</li>
                        <li>CSS de otras rutas</li>
                        <li>LibrerÃ­as innecesarias</li>
                    </ul>
                </div>

                <!-- PARTE 1 - CSS -->
                <h2>ğŸ¨ Parte 1 â€” OptimizaciÃ³n de CSS</h2>

                <div class="problem-block" data-title="Â¿Por quÃ© el CSS es crÃ­tico?">
                    <p><strong>El CSS es render-blocking.</strong></p>
                    <p>El navegador:</p>
                    <ol>
                        <li>Descarga HTML</li>
                        <li>Encuentra &lt;link rel="stylesheet"&gt;</li>
                        <li><strong>Para todo</strong></li>
                        <li>Descarga CSS</li>
                        <li>Construye CSSOM</li>
                        <li>Luego renderiza</li>
                    </ol>
                    <p><strong>Hasta que no tenga CSS suficiente, no pinta.</strong></p>
                </div>

                <div class="concept-block">
                    <h3>ğŸ”¥ Concepto Clave: Critical CSS</h3>
                    <p><strong>Critical CSS =</strong></p>
                    <p>El CSS necesario para pintar el contenido "above the fold".</p>
                    <p>Es decir:</p>
                    <p>ğŸ‘‰ Lo que el usuario ve sin hacer scroll.</p>
                    <h4>ğŸ¯ Estrategia ideal</h4>
                    <ul>
                        <li>Inline el Critical CSS</li>
                        <li>Cargar el resto despuÃ©s</li>
                    </ul>
                    <p><strong>Resultado:</strong></p>
                    <ul>
                        <li>Primer render mucho mÃ¡s rÃ¡pido</li>
                        <li>Mejor FCP</li>
                    </ul>
                </div>

                <div class="warning-block" data-title="Realidad en React (SPA)">
                    <p>En una SPA clÃ¡sica:</p>
                    <ul>
                        <li>El HTML inicial es mÃ­nimo</li>
                        <li>El contenido real aparece tras cargar JS</li>
                    </ul>
                    <p><strong>Por eso:</strong></p>
                    <ul>
                        <li>ğŸ‘‰ Critical CSS es mÃ¡s efectivo en SSR (Next.js)</li>
                        <li>ğŸ‘‰ En SPA pura depende mucho del tooling</li>
                    </ul>
                </div>

                <h3>âœ… Buenas prÃ¡cticas CSS</h3>

                <div class="solution-block">
                    <h4>1ï¸âƒ£ Extraer CSS del JS</h4>
                    <p>En producciÃ³n, el CSS debe salir como archivo separado.</p>
                    <p>Ejemplo en Vite / Webpack:</p>
                    <pre><code>build: {
  cssCodeSplit: true
}</code></pre>

                    <h4>2ï¸âƒ£ Minificar</h4>
                    <p>AutomÃ¡tico en producciÃ³n, pero siempre verificar.</p>

                    <h4>3ï¸âƒ£ Eliminar CSS no usado (Purge)</h4>
                    <p>Si usas Tailwind â†’ ya viene optimizado en build.</p>
                    <p>Si no:</p>
                    <ul>
                        <li>Revisa librerÃ­as grandes</li>
                        <li>Elimina estilos legacy</li>
                        <li>Divide CSS por rutas</li>
                    </ul>

                    <h4>4ï¸âƒ£ Code Splitting de CSS por pÃ¡gina</h4>
                    <p>Si /admin no necesita estilos de /home, no los cargues.</p>
                </div>

                <!-- PARTE 2 - IMÃGENES -->
                <h2>ğŸ–¼ Parte 2 â€” OptimizaciÃ³n de ImÃ¡genes (Mayor Impacto)</h2>

                <div class="analogy-block" data-title="Si solo arreglas una cosa...">
                    <p><strong>Si solo arreglas una cosa, que sean las imÃ¡genes.</strong></p>
                </div>

                <h3>ğŸ¯ Regla 1 â€” TamaÃ±o correcto</h3>
                <div class="problem-block">
                    <p>Si la imagen se renderiza a 400px,</p>
                    <p><strong>NO envÃ­es una de 3000px.</strong></p>
                </div>

                <h3>ğŸ¯ Regla 2 â€” Formato moderno</h3>
                <div class="solution-block">
                    <p>Orden recomendado:</p>
                    <ol>
                        <li><strong>AVIF</strong> (mejor compresiÃ³n)</li>
                        <li><strong>WebP</strong></li>
                        <li><strong>JPEG/PNG</strong> (fallback)</li>
                    </ol>
                </div>

                <h3>ğŸ¯ Regla 3 â€” Responsive Images</h3>
                <div class="solution-block">
                    <pre><code>&lt;img
  src="image-800.webp"
  srcset="
    image-400.webp 400w,
    image-800.webp 800w,
    image-1200.webp 1200w
  "
  sizes="(max-width: 600px) 100vw, 600px"
  width="600"
  height="400"
  alt="Producto"
/&gt;</code></pre>
                </div>

                <h3>ğŸ¯ Regla 4 â€” Lazy Loading</h3>
                <div class="solution-block">
                    <p>Para imÃ¡genes que no estÃ¡n arriba:</p>
                    <pre><code>&lt;img loading="lazy" /&gt;</code></pre>
                    <p><strong>Pero âš ï¸</strong></p>
                    <p>No hagas lazy-load en la imagen principal (LCP).</p>
                </div>

                <h3>ğŸ¯ Regla 5 â€” Evitar CLS</h3>
                <div class="solution-block">
                    <p>Siempre define:</p>
                    <pre><code>width="600"
height="400"</code></pre>
                    <p>O usa <strong>aspect-ratio</strong> en CSS.</p>
                    <p><strong>Esto evita que el layout "salte".</strong></p>
                </div>

                <div class="warning-block" data-title="Imagen LCP (Muy importante)">
                    <p>La imagen principal debe:</p>
                    <ul>
                        <li>Estar comprimida</li>
                        <li>Tener tamaÃ±o correcto</li>
                        <li>NO usar lazy-load</li>
                        <li>Ser prioritaria</li>
                    </ul>
                    <p><strong>En React (Next.js ejemplo):</strong></p>
                    <pre><code>&lt;Image priority /&gt;</code></pre>
                </div>

                <!-- PARTE 3 - FUENTES -->
                <h2>ğŸ”¤ Parte 3 â€” OptimizaciÃ³n de Fuentes</h2>

                <div class="problem-block" data-title="Problema comÃºn">
                    <p>Sin optimizaciÃ³n:</p>
                    <ul>
                        <li>FOIT (texto invisible)</li>
                        <li>Carga lenta</li>
                        <li>Saltos visuales</li>
                    </ul>
                </div>

                <h3>ğŸ¯ Buenas prÃ¡cticas</h3>

                <div class="solution-block">
                    <h4>1ï¸âƒ£ Usar woff2</h4>
                    <p>Formato moderno y comprimido.</p>

                    <h4>2ï¸âƒ£ font-display: swap</h4>
                    <pre><code>@font-face {
  font-family: "Inter";
  src: url("/fonts/inter.woff2") format("woff2");
  font-display: swap;
}</code></pre>
                    <p><strong>Resultado:</strong></p>
                    <ul>
                        <li>Texto aparece inmediatamente</li>
                        <li>Cambia luego a la fuente final</li>
                        <li>Mejor UX</li>
                    </ul>

                    <h4>3ï¸âƒ£ Subsetting</h4>
                    <p>Si solo usas:</p>
                    <ul>
                        <li>Latin</li>
                        <li>Peso 400 y 700</li>
                    </ul>
                    <p><strong>No cargues 8 pesos y 4 alfabetos.</strong></p>

                    <h4>4ï¸âƒ£ Variable Fonts</h4>
                    <p>Una sola fuente puede reemplazar mÃºltiples pesos.</p>
                    <p><strong>Menos requests. Menos KB.</strong></p>
                </div>

                <!-- ORDEN RECOMENDADO -->
                <h2>ğŸ§© Orden recomendado de optimizaciÃ³n</h2>
                <div class="concept-block">
                    <ol>
                        <li><strong>ğŸ§ª DiagnÃ³stico</strong></li>
                        <li><strong>ğŸ–¼ ImÃ¡genes</strong></li>
                        <li><strong>ğŸ¨ CSS</strong></li>
                        <li><strong>ğŸ”¤ Fuentes</strong></li>
                        <li><strong>ğŸ“¦ Luego JavaScript</strong></li>
                    </ol>
                </div>

                <!-- CHECKLIST FINAL -->
                <h2>ğŸ“‹ Checklist Final de ProducciÃ³n</h2>

                <div class="solution-block">
                    <h3>CSS</h3>
                    <ul>
                        <li>â˜ ExtraÃ­do</li>
                        <li>â˜ Minificado</li>
                        <li>â˜ CSS no usado eliminado</li>
                        <li>â˜ Code split por rutas (si aplica)</li>
                    </ul>

                    <h3>ImÃ¡genes</h3>
                    <ul>
                        <li>â˜ TamaÃ±o correcto</li>
                        <li>â˜ Formato moderno</li>
                        <li>â˜ Responsive</li>
                        <li>â˜ Lazy load solo donde corresponde</li>
                        <li>â˜ Sin CLS</li>
                    </ul>

                    <h3>Fuentes</h3>
                    <ul>
                        <li>â˜ woff2</li>
                        <li>â˜ font-display swap</li>
                        <li>â˜ Subsetting</li>
                        <li>â˜ Variable fonts si posible</li>
                    </ul>
                </div>

                <!-- EJERCICIO PRÃCTICO -->
                <h2>ğŸ§ª Mini Ejercicio PrÃ¡ctico</h2>
                <div class="interview-block">
                    <div class="interview-title">
                        <span>ğŸ¯ Aplica ahora mismo</span>
                        <span class="toggle-arrow">â–¶</span>
                    </div>
                    <div class="interview-content">
                        <ol>
                            <li><strong>Abre tu proyecto.</strong></li>
                            <li><strong>Corre Lighthouse.</strong></li>
                            <li><strong>Identifica:</strong>
                                <ul>
                                    <li>Imagen mÃ¡s pesada</li>
                                    <li>Archivo CSS mÃ¡s grande</li>
                                    <li>Fuente mÃ¡s grande</li>
                                </ul>
                            </li>
                            <li><strong>Optimiza solo uno.</strong></li>
                            <li><strong>Vuelve a medir.</strong></li>
                            <li><strong>Comparar antes y despuÃ©s.</strong></li>
                        </ol>
                    </div>
                </div>

                <!-- REFLEXIÃ“N SENIOR -->
                <h2>ğŸ§  ReflexiÃ³n Senior</h2>
                <div class="interview-block">
                    <div class="interview-title">
                        <span>ğŸ’¡ Lo que debes recordar</span>
                        <span class="toggle-arrow">â–¶</span>
                    </div>
                    <div class="interview-content">
                        <p>Optimizar performance no es hacer magia con React.</p>
                        <p><strong>Es entender:</strong></p>
                        <ul>
                            <li>CÃ³mo funciona el navegador</li>
                            <li>QuÃ© bloquea el render</li>
                            <li>QuÃ© pesa mÃ¡s en la red</li>
                            <li>QuÃ© afecta LCP</li>
                        </ul>
                        <p><strong>React viene despuÃ©s.</strong></p>
                        <p>Los que dominan esto pueden optimizar casi cualquier proyecto.</p>
                    </div>
                </div>

                <!-- SIGUIENTE -->
                <div class="concept-block">
                    <h3>ğŸ“š PrÃ³ximos temas</h3>
                    <p>En los siguientes mÃ³dulos:</p>
                    <ul>
                        <li>ğŸ‘‰ OptimizaciÃ³n de JavaScript</li>
                        <li>ğŸ‘‰ CÃ³mo el framework afecta performance</li>
                        <li>ğŸ‘‰ CÃ³mo conectar todo con Core Web Vitals</li>
                    </ul>
                </div>

                <!-- REFERENCIAS -->
                <div class="solution-block">
                    <h3>ğŸ“š Referencias y Recursos</h3>
                    <ul>
                        <li><a href="https://chatgpt.com/g/g-p-696fbea2755481919c8258fb23e8f822-react/c/6993b926-0a4c-8392-beff-8d065f995cb0" target="_blank">ChatGPT React Performance Assistant</a></li>
                    </ul>
                </div>

                <!-- NAVIGATION BUTTONS -->
                <div class="navigation-buttons">
                    <button class="btn btn-secondary" onclick="window.location.href='18-optimising-the-server.html'">â† Anterior</button>
                    <button class="btn btn-primary" onclick="window.location.href='../../../index.html'">Volver al Inicio â†’</button>
                </div>
            </section>
        </main>
    </div>

    <script src="../../../assets/js/app.js"></script>
</body>
</html>
